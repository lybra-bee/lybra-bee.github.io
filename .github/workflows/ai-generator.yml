name: AI Content Generator

on:
  workflow_dispatch:
  schedule:
    - cron: '0 12 * * 1'

permissions:
  contents: write

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Install dependencies
        run: pip install requests

      - name: Create content directory
        run: mkdir -p content/posts

      - name: Generate with DeepSeek API
        run: |
          echo "=== Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ðœ DEEPSEEK API ==="
          
          # DeepSeek API (Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¾Ð³)
          response=$(curl -s -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "model": "deepseek-chat",
              "messages": [
                {"role": "user", "content": "ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ Ð°Ð±Ð·Ð°Ñ† Ð¾ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð²ÐµÐ±-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÑÑ… 2024 Ð³Ð¾Ð´Ð°"}
              ],
              "temperature": 0.7,
              "max_tokens": 300
            }' \
            "https://api.deepseek.com/v1/chat/completions" 2>&1 || echo "API_ERROR")
          
          echo "ÐžÑ‚Ð²ÐµÑ‚ DeepSeek: $response"
          
          if [[ "$response" == *"choices"* ]]; then
            echo "âœ… DeepSeek API ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð»!"
            CONTENT=$(echo "$response" | python3 -c "import json, sys; data=json.load(sys.stdin); print(data['choices'][0]['message']['content'])" | head -10)
          else
            echo "âŒ DeepSeek Ð½Ðµ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð», Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸ÑŽ"
            CONTENT="Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð²ÐµÐ±-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð² 2024 Ð³Ð¾Ð´Ñƒ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ñ… Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð² like React Ð¸ Vue, ÑÐµÑ€Ð²ÐµÑ€less-Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€, Ð¸ AI-Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¹. DevOps Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÑ‚Ð°Ð»Ð¸ Ð½ÐµÐ¾Ñ‚ÑŠÐµÐ¼Ð»ÐµÐ¼Ð¾Ð¹ Ñ‡Ð°ÑÑ‚ÑŒÑŽ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°."
          fi
          
          echo "ðŸ“ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÑÑ‚Ð°Ñ‚ÑŒÑŽ..."
          DATE=$(date +%Y-%m-%d)
          TIMESTAMP=$(date +%H-%M-%S)
          FILE="content/posts/${DATE}-${TIMESTAMP}-ai-article.md"
          
          echo "---" > "$FILE"
          echo "title: \"Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð²ÐµÐ±-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ 
