name: AI Blog Generator

on:
  workflow_dispatch:  # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
  push:
    branches: [main]
    paths:
      - '.github/workflows/ai-blog-generator.yml'

permissions:
  contents: write

jobs:
  generate-content:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: Create content generator script
      run: |
        echo "ğŸ“ Creating content generator..."
        cat > generate_content.py << 'EOF'
import os
import random
from datetime import datetime, timedelta

def main():
    print("ğŸ”„ Starting content generation...")
    
    topics = [
        "Ğ˜ÑĞºÑƒÑÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ»Ğ»ĞµĞºÑ‚ Ğ² 2025: Ñ‚Ñ€ĞµĞ½Ğ´Ñ‹ Ğ¸ Ğ¿ĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ñ‹",
        "ĞĞµĞ¹Ñ€Ğ¾ÑĞµÑ‚Ğ¸ Ğ¸ Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ: Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸",
        "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ AI: Ñ‚Ğ²Ğ¾Ñ€Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¸ Ğ¸Ğ½Ğ½Ğ¾Ğ²Ğ°Ñ†Ğ¸Ğ¸"
    ]
    
    os.makedirs("content/posts", exist_ok=True)
    
    for i in range(2):
        topic = random.choice(topics)
        date = (datetime.now() - timedelta(days=i)).strftime("%Y-%m-%d")
        filename = f"content/posts/{date}-article-{i+1}.md"
        
        content = f"""---
title: "{topic}"
date: {date}
tags: ["AI", "Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸"]
draft: false
---

## Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ
{topic} Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‰ÑƒÑÑÑ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ.

## ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ°ÑĞ¿ĞµĞºÑ‚Ñ‹
- ĞĞ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹
- ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ
- ĞŸĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ñ‹ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ

## Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
{topic} Ğ¿Ñ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ exciting Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ Ğ¸Ğ½Ğ½Ğ¾Ğ²Ğ°Ñ†Ğ¸Ğ¹.
"""
        
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"âœ… Created: {filename}")
    
    print("ğŸ‰ Content generation completed!")

if __name__ == "__main__":
    main()
EOF

    - name: Generate content
      run: |
        echo "ğŸš€ Running content generator..."
        python generate_content.py
        
        echo "ğŸ“ Generated files:"
        find content/ -name "*.md" -exec echo "ğŸ“„ {}" \;

    - name: Commit changes
      run: |
        git config --global user.name "github-actions"
        git config --global user.email "github-actions@github.com"
        
        git add content/
        
        if git diff --cached --quiet; then
          echo "â„¹ï¸ No changes to commit"
        else
          git commit -m "ğŸ¤– Add generated content"
          git push
          echo "âœ… Changes pushed successfully"
        fi

    - name: Show completion message
      run: |
        echo "ğŸ‰ AI Blog Generator completed!"
        echo "ğŸ“Š Articles created: $(find content/ -name "*.md" | wc -l)"
