<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | default: site.title }}</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="keywords" content="–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ, AI, ML, –ª–æ–∫–∞–ª—å–Ω—ã–π AI, —Å–ª–∞–±–æ–µ –∂–µ–ª–µ–∑–æ, Stable Diffusion, LLM">
  <meta name="author" content="Lybra Bee">
  
  <!-- Search Console Verification -->
  <meta name="yandex-verification" content="a538b35a7696ff2c">
  <meta name="google-site-verification" content="google7a98bc4928c11fc0.html">
  
  <!-- Open Graph -->
  <meta property="og:title" content="{{ page.title | default: site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta property="og:image" content="{{ site.url }}/assets/images/og-image.png">

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ site.url }}{{ page.url }}">
  
  <!-- –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ -->
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104334067', 'ym');

    ym(104334067, 'init', {
        ssr:true, 
        webvisor:true, 
        clickmap:true, 
        ecommerce:"dataLayer", 
        accurateTrackBounce:true, 
        trackLinks:true
    });
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/104334067" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêù</text></svg>" type="image/svg+xml">
<!-- üß† –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞ -->
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="alternate icon" href="/favicon.ico">
<meta name="theme-color" content="#000000">
</head>
<body class="{% if site.dark_mode or page.dark_mode %}dark-mode{% endif %}">
  <header class="hero">
    <div class="hero-content">
      <h1>{{ page.title | default: site.title }}</h1>
      {% if page.description %}<p>{{ page.description }}</p>{% endif %}
      <nav class="nav-menu">
        <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/articles/" class="nav-link">–°—Ç–∞—Ç—å–∏</a>
        <a href="/about/" class="nav-link">–û–±–æ –º–Ω–µ</a>
        <a href="/gallery/" class="nav-link">–ì–∞–ª–µ—Ä–µ—è</a>
      </nav>
      <button id="theme-toggle" class="theme-toggle btn btn-outline-light mt-3">
        {% if site.dark_mode or page.dark_mode %}–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞{% else %}–¢–µ–º–Ω–∞—è —Ç–µ–º–∞{% endif %}
      </button>
    </div>
  </header>

  <main>
    <section class="welcome-section">
      <h2 class="spread-text">
        <span>–î</span><span>–æ</span><span>–±</span><span>—Ä</span><span>–æ</span>
        <span> </span><span>–ø</span><span>–æ</span><span>–∂</span><span>–∞</span><span>–ª</span><span>–æ</span><span>–≤</span><span>–∞</span><span>—Ç</span><span>—å</span>
        <span> </span><span>–≤</span>
        <span> </span><span>–º</span><span>–æ</span><span>–π</span>
        <span> </span><span>–±</span><span>–ª</span><span>–æ</span><span>–≥</span>
      </h2>
    </section>

    {{ content }}
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; {{ site.time | date: '%Y' }} Lybra Bee. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      <div class="footer-stats">
        <small>
          üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 
          <span id="footer-visitors">0</span> –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π | 
          <span id="footer-views">0</span> –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
          {% if site.posts.size > 0 %} | <span>{{ site.posts.size }}</span> —Å—Ç–∞—Ç–µ–π{% endif %}
        </small>
      </div>
      <div class="footer-links mt-2">
        <a href="https://metrika.yandex.ru/dashboard?id=104334067" target="_blank" class="btn btn-outline-light btn-sm me-2">üüß –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞</a>
        <a href="https://analytics.google.com/" target="_blank" class="btn btn-outline-light btn-sm">üü¶ Google Analytics</a>
      </div>
    </div>
     <div class="lab-promo">
    <h3>–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é</h3>
    <p>–°–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –º–æ–∏–º –∂–µ–ª–µ–∑–æ–º</p>
    <a href="https://lybra-bee.github.io/lybra-ai-lab/" class="button">
        üß™ –û—Ç–∫—Ä—ã—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é
    </a>
</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

  <script>
  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
  document.getElementById('theme-toggle').addEventListener('click', function() {
    document.body.classList.toggle('dark-mode');
    this.textContent = document.body.classList.contains('dark-mode') ? '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞' : '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞';
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ç–µ–º—ã
    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
  });

  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem('darkMode');
    if (savedTheme === 'true') {
      document.body.classList.add('dark-mode');
      document.getElementById('theme-toggle').textContent = '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
    const textContainer = document.querySelector(".spread-text");
    if (textContainer) {
      const letters = Array.from(textContainer.querySelectorAll("span"));
      const midX = textContainer.offsetWidth / 2;

      // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
      letters.forEach(span => {
        const rect = span.getBoundingClientRect();
        const containerRect = textContainer.getBoundingClientRect();
        const finalX = rect.left - containerRect.left;
        span.dataset.finalX = finalX;
        span.style.transform = `translateX(${midX - finalX}px)`; // —Å—Ç–∞—Ä—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ
        span.style.opacity = 0;
      });

      let pairIndex = 0;

      function animatePair() {
        if (pairIndex >= Math.ceil(letters.length / 2)) {
          setTimeout(resetAnimation, 1500); // –ø–∞—É–∑–∞ –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º
          return;
        }

        const left = letters[pairIndex];
        const right = letters[letters.length - 1 - pairIndex];

        [left, right].forEach(span => {
          if (span) {
            span.style.transition = "transform 0.6s ease, opacity 0.3s ease";
            span.style.opacity = 1;
            span.style.transform = `translateX(0)`; // –µ–¥—É—Ç –Ω–∞ —Å–≤–æ–∏ –º–µ—Å—Ç–∞
          }
        });

        pairIndex++;
        setTimeout(animatePair, 200); // —Å–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
      }

      function resetAnimation() {
        letters.forEach(span => {
          const finalX = span.dataset.finalX;
          span.style.transition = "none";
          span.style.transform = `translateX(${midX - finalX}px)`;
          span.style.opacity = 0;
        });
        pairIndex = 0;
        setTimeout(animatePair, 300); // –Ω–æ–≤—ã–π —Ü–∏–∫–ª
      }

      animatePair();
    }

    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π
    const today = new Date().toDateString();
    let stats = JSON.parse(localStorage.getItem('siteStats') || '{}');
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    if (!stats.initialized) {
      stats = {
        initialized: true,
        totalVisitors: 0,
        totalPageViews: 0,
        dailyStats: {},
        lastVisit: null
      };
    }
    
    // –ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å?
    const isNewVisitor = !stats.lastVisit || stats.lastVisit !== today;
    if (isNewVisitor) {
      stats.totalVisitors += 1;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
    stats.totalPageViews += 1;
    stats.lastVisit = today;
    
    // –î–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    if (!stats.dailyStats[today]) {
      stats.dailyStats[today] = {
        visitors: 0,
        pageViews: 0
      };
    }
    
    if (isNewVisitor) {
      stats.dailyStats[today].visitors += 1;
    }
    stats.dailyStats[today].pageViews += 1;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    localStorage.setItem('siteStats', JSON.stringify(stats));
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É—Ç–µ—Ä
    const footerVisitors = document.getElementById('footer-visitors');
    const footerViews = document.getElementById('footer-views');
    
    if (footerVisitors) footerVisitors.textContent = stats.totalVisitors;
    if (footerViews) footerViews.textContent = stats.totalPageViews;

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫—É (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
    if (typeof ym !== 'undefined') {
      ym(104334067, 'hit', window.location.href, {
        title: document.title
      });
    }
  });
  </script>
</body>
</html>
