---
layout: default
---

<main class="lesson container py-5">
  <article class="lesson-content">
    <h1 class="mb-4">{{ page.title }}</h1>

    <div class="lesson-body">
      {{ content }}
    </div>

    <hr class="my-5">

    <a href="/lessons/" class="btn btn-primary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —É—Ä–æ–∫–æ–≤</a>
  </article>
  <div id="comments">
  <h2>üí¨ –û–±—Å—É–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–∞</h2>
  <form id="comment-form" method="POST" action="https://your-staticman-app.herokuapp.com/v3/entry/github/lybra-bee/lybra-ai-lab/main/comments">
    <input type="hidden" name="options[slug]" value="{{ page.id }}">
    <input type="hidden" name="options[fields][page]" value="{{ page.id }}">
    <input type="text" name="fields[name]" placeholder="–í–∞—à–µ –∏–º—è" required>
    <input type="email" name="fields[email]" placeholder="Email (–Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è)" required>
    <textarea name="fields[comment]" placeholder="–í–∞—à –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ—Ç–∑—ã–≤ –ø–æ —É—Ä–æ–∫—É" required></textarea>
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</button>
  </form>
  
  <div id="comments-list">
    {% assign page_comments = site.data.comments[page.id] | sort: 'date' %}
    {% if page_comments.size > 0 %}
      {% for comment in page_comments %}
        <div class="comment">
          <p><strong>{{ comment.fields.name }}</strong> ({{ comment.date | date: "%d.%m.%Y %H:%M" }}):</p>
          <p>{{ comment.fields.comment }}</p>
        </div>
      {% endfor %}
    {% else %}
      <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º! –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –î–ó.</p>
    {% endif %}
  </div>
</div>

<script>
// AJAX –¥–ª—è —Ñ–æ—Ä–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —Ä–µ–ª–æ–∞–¥–∏—Ç—å)
document.getElementById('comment-form').addEventListener('submit', function(e) {
  e.preventDefault();
  // Fetch POST, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏
  fetch(this.action, { method: 'POST', body: new FormData(this) })
    .then(res => res.json())
    .then(data => { if (data.success) location.reload(); })
    .catch(err => alert('–û—à–∏–±–∫–∞: ' + err));
});
</script>
</main>
